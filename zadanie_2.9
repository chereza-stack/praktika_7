/*Задача 9: Садовод
У "садовода" Павлика есть N различных растений, 
каждый из которых имеет свою стоимость 
(например, сколько радости он приносит, когда его подарят).

Павлик хочет собрать букет из K растений, 
чтобы максимизировать общую стоимость букета.
Однако он не может выбрать более L одинаковых растений.

Входные данные:
Первое число N (1 ≤ N ≤ 100) — количество доступных растений.
Второе число K (1 ≤ K ≤ 20) — количество растений в букете.
Третье число L (1 ≤ L ≤ K) — максимальное количество одинаковых растений в букете.
Массив из N целых чисел, представляющих стоимость каждого растения.

Выходные данные: 
Максимальная возможная стоимость букета.*/


#include <bits/stdc++.h>
using namespace std;

int main() {
    int N, K, L;
    cin >> N >> K >> L; // Считываем значения N, K, L

    vector<int> a(N);
    for(int &x : a) cin >> x; // Считываем стоимости растений

    sort(a.rbegin(), a.rend()); // Сортируем по убыванию (хочется брать дорогие)

    vector<int> dp(K + 1, 0); // dp[j] - max сумма при j растениях

    for(int price : a) { // Перебираем каждое растение по цене
        vector<int> newdp = dp; // Временный массив (чтобы не портить dp преждевременно)

        for(int j = 0; j <= K; j++) { // j - сколько уже стоит в букете
            if(dp[j] >= 0) {  // если эта сумма достижима
                for(int cnt = 1; cnt <= L && j + cnt <= K; cnt++) {
                    // пробуем взять cnt штук данного растения
                    newdp[j + cnt] = max(newdp[j + cnt], dp[j] + cnt * price);
                }
            }
        }
        dp = newdp; // обновляем dp
    }

    cout << dp[K]; // ответ: максимальная ценность при ровно K
}
